app.factory("appService",["$http",function(g){var d=this;var i="https://newsapi.org/v1/sources";var c="https://newsapi.org/v1/sources?category=";var h="https://newsapi.org/v1/articles?source=";var e="https://api.rss2json.com/v1/api.json?rss_url=http%3A%2F%2Ffeeds.feedburner.com%2FPuthiyathalaimurai_Districts_News";var b="https://api.rss2json.com/v1/api.json?rss_url=http%3A%2F%2Ffeeds.feedburner.com%2FPuthiyathalaimurai_Tamilnadu_News&api_key=3159ncurciuuew1nmfhqt5zap8r7nqisqzcx4yvt&order_by=pubDate&order_dir=desc&count=50";var f="https://api.rss2json.com/v1/api.json?rss_url=http%3A%2F%2Ffeeds.feedburner.com%2FPuthiyathalaimurai_India_News%3Fformat%3Dxmlhttps%3A%2F%2Fnews.ycombinator.com%2Frss&api_key=3159ncurciuuew1nmfhqt5zap8r7nqisqzcx4yvt&order_by=pubDate&order_dir=asc&count=50";var a="10ad575c68f24879949f89147d38c9ce";d.getNewsByCategory=function(j){return g.get(c+j).then(function(k){return k.data.sources},function(k){console.log("Error While fetching Data in service")})};d.getAllSources=function(){return g.get(i).then(function(j){return j.data.sources},function(j){console.log("Error while fetching all sources")})};d.getNewspapers=function(j,k){return g.get(h+j+"&sortBy="+k+"&apiKey="+a).then(function(l){return l.data.articles},function(l){console.log("Error while fetching all sources")})};d.getNewspapersByCategory=function(k,j){var k=k;var j=j;return g.get(h+k+"&apiKey="+a).then(function(l){for(var m=0;m<l.data.articles.length;m++){l.data.articles[m]["channel_id"]=k;l.data.articles[m]["channel_name"]=j}return l.data.articles},function(l){console.log("Error while fetching all sources")})};d.getLocalRssFeeds=function(){return g.get(b).then(function(k){console.log("localNews service",k.data);for(var l=0;l<k.data.items.length;l++){var n=k.data.items[l];var j=n.content.match(/http:.*?.jpg/g);var m=n.content.match(/<p>.*?<\/p\>/g);m.shift();m.pop();var o={title:$(m[0]).text(),body:$(m[1]).text(),description:$(m[2]).text(),image_url:j[0]};k.data.items[l]["content_modified"]=o}return k.data},function(j){console.log("Error while fetching all sources")})};d.getRSSIndianNews=function(){return g.get(f).then(function(k){console.log("localNews service",k.data);for(var l=0;l<k.data.items.length;l++){var n=k.data.items[l];var j=n.content.match(/http:.*?.jpg/g);var m=n.content.match(/<p>.*?<\/p\>/g);m.shift();m.pop();var o={title:$(m[0]).text(),body:$(m[1]).text(),description:$(m[2]).text(),image_url:j[0]};k.data.items[l]["content_modified"]=o}return k.data},function(j){console.log("Error while fetching all sources")})};return d}]);